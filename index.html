<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<title>eLISA - OpenCities Challenge 2012</title>
	<script src="http://userpages.uni-koblenz.de/~smagnus/opencities2012/php/osm2json.php" type="text/javascript"></script>
	<script src="js/loadpoi.js" type="text/javascript"></script>

	<script src="js/jquery-1.8.0.min.js" type="text/javascript"></script>
	<script src="js/jquery.qtip-1.0.0-rc3.min.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="css/ui-lightness/jquery-ui-1.8.23.custom.css">
	<script src="js/jquery-ui-1.8.23.custom.min.js" type="text/javascript"></script>
	<script src="js/main.js" type="text/javascript"></script>
	<script src="js/main__gui.js" type="text/javascript"></script>
	<script src="js/main__vars.js" type="text/javascript"></script>
	<script src="js/map.js" type="text/javascript"></script>
	<script src="js/poly.js" type="text/javascript"></script>
	<script src="js/util.js" type="text/javascript"></script>
	<script src="js/poi.js" type="text/javascript"></script>
	<script src="js/heatmap.js" type="text/javascript"></script>
	<script src="js/slider.js" type="text/javascript"></script>
	<script src="js/util.js" type="text/javascript"></script>

	<script src="jsdaten/haushalte_2011_norm.js" type="text/javascript"></script>
	<script src="jsdaten/familienstand_2011_norm.js" type="text/javascript"></script>
	<script src="jsdaten/altersgruppen_2011_norm.js" type="text/javascript"></script>
	<script src="jsdaten/verkehrsdichte_2011_norm.js" type="text/javascript"></script>
	
	<link rel="stylesheet" type="text/css" href="elisa.css">
	<!-- Yahoo YUI Slider--> 
	<!--<script src="http://yui.yahooapis.com/2.9.0/build/yahoo-dom-event/yahoo-dom-event.js"></script>-->
	<!--<script src="http://yui.yahooapis.com/2.9.0/build/dragdrop/dragdrop-min.js"></script>-->
 	<!--<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.9.0/build/slider/assets/skins/sam/slider.css">-->
 	<!--<script src="http://yui.yahooapis.com/2.9.0/build/slider/slider-min.js"></script>-->

        
	<!-- Bring in the map layer libraries.
	     (Using hosted files will make sure we are kept up to date with any necessary changes,
	      but you could easily serve up the javascript yourself) -->
              
	<!-- OpenLayers javascript library -->
	<script src="OpenLayers/OpenLayers.js"></script>
	<!--<script src="OpenLayers/OpenLayers.js"></script> -->
	<!-- OpenStreetMap OpenLayers layer -->
	<script src="OpenLayers/OpenStreetMap.js"></script>
	<!-- Google Maps layers -->
    <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>

</head>
<body>
<div id="map"></div>
<div id="widtest" class="ui-widget ui-widget-content ui-corner-all">
	<div class="ui-dialog-content ui-widget-content">
	<img src="img/elisa.png" alt="eLisa"></img>
	<div id="plugin_guis">
		<div>
			<h1>District Criteria</h1>
			<div class="accordion">
				<h2><a href="#">Age (from 'young' to 'older')</a></h2>
				<div>
					<div id="slider_feature_age" kind="feature" number="0" class="slider" style="width:200px;"></div>
					<input type="checkbox" id="age"/><label for="age">active</label></form>
				</div>
				
				<h2><a href="#">Traffic Density (from 'low' to 'high')</a></h2>
				<div>
					<div id="slider_features_cars" kind="feature" number="1" class="slider" style="width:200px;"></div>
					<input type="checkbox" id="cars"/><label for="cars">active</label></form>
				</div>
				<h2><a href="#">Households (from 'singles' to 'families')</a></h2>
				<div>
					<div id="slider_feature_households" kind="feature" number="2" class="slider" style="width:200px;"></div>
					<input type="checkbox" id="housholds"/><label for="housholds">active</label>
				</div>
			</div>
		</div>
		<div>
			<h1>Points of Interest</h1>
			<div class="accordion">
				<h2><a href="#">Kindergartens (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_kindergartens" kind="poi" number="0" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="kindergartens"/><label for="kindergartens">active</label>
				</div>
				<h2><a href="#">Gas Stations (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_gasstations" kind="poi" number="1" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="gassstations" /><label for="gassstations">active</label>
				</div>
				<h2><a href="#">Schools (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_schools" kind="poi" number="2" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="schools" /><label for="schools">active</label>
				</div>
				
				<h2><a href="#">fastfood (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_fastfood" kind="poi" number="3" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="fastfood" /><label for="fastfood">active</label>
				</div>

				<h2><a href="#">Restaurants (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_restaurants" kind="poi" number="4" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="restaurants" /><label for="restaurants">active</label>
				</div>

				<h2><a href="#">Doctors (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_doctors" kind="poi" number="5" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="doctors" /><label for="doctors">active</label>
				</div>
				<h2><a href="#">Pharmacies (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_pharmacies" kind="poi" number="6" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="pharmacies" /><label for="pharmacies">active</label>
				</div>
				<h2><a href="#">Pubs (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_pubs" kind="poi" number="7" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="pubs" /><label for="pubs">active</label>
				</div>
				<h2><a href="#">Parking (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_parking" kind="poi" number="8" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="parking" /><label for="parking">active</label>
				</div>
				<h2><a href="#">ATM (from 'unimportant' to 'important')</a></h2>
				<div>
					<div id="slider_poi_atm" kind="poi" number="9" class="slider" style="width:200px;"></div>
					<input type="checkbox" kind="poi" id="atm" /><label for="atm">active</label>
			</div>
		</div>
			<h1>Pre-Selection via Use Case </h1>
					 <table width="100%" cellspacing=0 cellpadding=0>
						<tr>
							<td style="text-align:left;">
								<a href="#" style="color:#3a63ad;" onclick="javascript:setPreset(1);setPreset(1);">Case 1: Family Schmidt</a><br/>
								<a href="#" style="color:#3a63ad;" onclick="javascript:setPreset(2);setPreset(2);">Case 2: Volker Mueller</a><br/>
								<a href="#" style="color:#3a63ad;" onclick="javascript:setPreset(3);setPreset(3);">Case 3: Mrs. Friedrich</a>
							</td>
							
						</tr>
					</table>
				
	</div>
	</div>

<script type="text/javascript">
jQuery(document).ready(function() {
	init();
	
	jQuery(".accordion").accordion({
		collapsible: true
	});
	
	jQuery(".slider").slider({
		max: 200,
		value: 100,
		change: function(event, ui) {
			if(jQuery(this).parent().find("input[type=checkbox]").is(":checked")) {
				if(jQuery(this).attr("kind") == "feature")
					features_weight[jQuery(this).attr("number")] = ui.value / 200;
				else{
					pois_weight[jQuery(this).attr("number")] = ui.value / 200;
				}
				handleUpdate(features, features_labels, features_selection, features_weight, pois, pois_labels, pois_selection, pois_weight);	
			}
		}
	});
	
	jQuery("input[type=checkbox]").button({label:"inactive", diabled:true});
	
	jQuery("input[type=checkbox]").click(function() {
		if(jQuery(this).is(":checked")) {
			jQuery(this).button("option","label","active");
			if(jQuery(this).attr("kind") == "poi") {
				pois_selection[pois.indexOf(jQuery(this).attr("id"))] = true;
			} else {
				features_selection[features.indexOf(jQuery(this).attr("id"))] = true;
			}
		}
		else {
			jQuery(this).button("option","label","inactive");
			if(jQuery(this).attr("kind") == "poi")
				pois_selection[pois.indexOf(jQuery(this).attr("id"))] = false;
			else
				features_selection[features.indexOf(jQuery(this).attr("id"))] = false;
		}
		
		handleUpdate(features, features_labels, features_selection, features_weight, pois, pois_labels, pois_selection, pois_weight);	
	});
});
</script>
</body>
</html>

